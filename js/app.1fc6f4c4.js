(function(){"use strict";var t={5684:function(t,e,i){var n=i(6116),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("mapChart")],1)},o=[],s=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"app"}},[e("el-container",[e("el-aside",{attrs:{width:"300px"}},[e("div",{attrs:{id:"timer"}}),e("el-row",{staticStyle:{"margin-left":"3.5px","margin-right":"3.5px"},attrs:{gutter:7}},[e("el-col",{attrs:{span:4}},[e("el-statistic",{attrs:{precision:"0",value:t.value1,title:t.title1}})],1),e("el-col",{attrs:{span:4}},[e("el-statistic",{attrs:{precision:"0",value:t.value2,title:t.title2}})],1),e("el-col",{attrs:{span:4}},[e("el-statistic",{attrs:{title:"总计",value:t.value3}})],1)],1),e("br"),e("el-button",{staticStyle:{"font-size":"large"},attrs:{icon:"el-icon-share",id:"share"},on:{click:function(e){return t.copyShare()}}},[t._v("分享")])],1),e("el-container",[e("el-header",[e("div",{staticStyle:{"text-align":"center","padding-top":"20px","font-size":"x-large"},attrs:{id:"divi-name"}}),e("div",{staticStyle:{"text-align":"center","font-size":"large","padding-top":"10px"},attrs:{id:"hint"}})]),e("el-main",{attrs:{id:"container"}})],1)],1)],1)])},a=[],c=(i(3248),i(9972)),l=i(7416);i(172);i(9500),i(9704);var h={name:"mapChart",data(){return{like:!0,value1:0,value2:0,value3:0,title1:"正确",title2:"错误",title3:"总计"}},mounted(){this.mapChart(),this.initData()},methods:{initData(){fetch("./div.csv").then((t=>t.text())).then((t=>{this.counties=t.trim().split("\n").map((t=>t.split(",")))})).then((t=>{this.startQuiz()}))},async copyShare(){let t="我在「地名抽测 - Divisle」"+this.totalQuizzes+"题中，正确率达到"+this.correctAnswers/this.answers*100+"%，快来试试吧！";if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t).then((()=>{this.$message({message:"已复制到剪贴板",type:"success"})}));else{let e=document.createElement("textarea");e.value=t,e.style.position="absolute",e.style.opacity=0,e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),e.remove(),this.$message({message:"已复制到剪贴板",type:"success"})}},renderText(){this.totalQuizzes=10,this.value1=this.correctAnswers,this.value2=this.wrongAnswers,this.value3=this.answers,this.answers>=this.totalQuizzes&&this.stopQuiz()},initQuiz(){this.correctAnswers=0,this.wrongAnswers=0,this.answers=0,this.renderText()},startQuiz(){this.quizStarted=!0,this.initQuiz(),this.showRandomCounty()},stopQuiz(){this.quizStarted=!1,this.$message({message:"已完成"+this.totalQuizzes+"题测验，快去分享你的成绩吧",type:"success"})},answerProvince(t,e){this.quizStarted||this.startQuiz(),this.answers+=1,t.name==this.correctProvince?(this.correctAnswers+=1,this.changeColor(t.name,"green",e),setTimeout((()=>this.changeColor(t.name,"#d1dbdd",e)),150),this.showRandomCounty()):(this.wrongAnswers+=1,this.changeColor(t.name,"red",e),this.changeColor(this.correctProvince,"green",e),document.getElementById("hint").innerText="正确答案："+this.correctProvince,setTimeout((()=>{this.changeColor(t.name,"#d1dbdd",e),this.changeColor(this.correctProvince,"#d1dbdd",e)}),300),setTimeout((()=>{document.getElementById("hint").innerText="",this.showRandomCounty()}),300)),this.renderText()},showRandomCounty(){let t=Math.floor(Math.random()*this.counties.length);this.currentCounty=this.counties[t][3],this.correctProvince=this.counties[t][1],"内蒙古"==this.correctProvince.slice(0,3)||"黑龙江"==this.correctProvince.slice(0,3)?this.correctProvince=this.correctProvince.slice(0,3):this.correctProvince=this.correctProvince.slice(0,2),document.getElementById("divi-name").innerText=this.currentCounty},changeColor(t,e,i){let n=i.getOption();for(let r=0;r<n.geo[0].regions.length;r++)if(n.geo[0].regions[r].name==t)return n.geo[0].regions[r].itemStyle||(n.geo[0].regions[r].itemStyle={}),n.geo[0].regions[r].itemStyle.color=e,n.geo[0].regions[r].itemStyle.areaColor=e,void i.setOption(n);n.geo[0].regions.push({name:t,itemStyle:{color:e,areaColor:e}}),i.setOption(n)},chooseColor(t,e,i){this.color="#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},backMap(){this.$options.methods.mapChart()},mapChart(){let t=l._6(document.getElementById("container"));function e(e){let i={title:{},toolbox:{feature:{}},geo:{map:e,roam:!1,scaleLimit:{min:1.2,max:3},zoom:1.2,label:{normal:{show:!1,fontSize:"16",color:"rgba(0,0,0,0.7)"}},itemStyle:{normal:{borderColor:"#000000",areaColor:"#D1DBDD",borderWidth:1}},emphasis:{disabled:!0},projection:{project:t=>[t[0]/180*Math.PI,-Math.log(Math.tan((Math.PI/2+t[1]/180*Math.PI)/2))],unproject:t=>[180*t[0]/Math.PI,360/Math.PI*Math.atan(Math.exp(t[1]))-90]}},series:[{name:"信息量",type:"map",selectedMode:"none",animation:!1,mapType:e,label:{show:!1},geoIndex:0,regions:[]}],tooltip:{show:!1,trigger:"item",formatter:function(t){return t.name}}};t.setOption(i)}window.addEventListener("resize",(()=>{t.resize()})),this.chooseColor(255,0,0),e("china");t.off("click"),t.on("click",(e=>{this.answerProvince(e,t)}))}}},u=h,d=i(2528),p=(0,d.c)(u,s,a,!1,null,"b9753338",null),m=p.exports,f={name:"App",components:{mapChart:m}},g=f,v=(0,d.c)(g,r,o,!1,null,null,null),y=v.exports,w=i(9440),b=i.n(w);n["default"].prototype.$echarts=c["default"],n["default"].config.productionTip=!1,n["default"].use(b()),new n["default"]({render:t=>t(y)}).$mount("#app")}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,function(){i.amdO={}}(),function(){var t=[];i.O=function(e,n,r,o){if(!n){var s=1/0;for(h=0;h<t.length;h++){n=t[h][0],r=t[h][1],o=t[h][2];for(var a=!0,c=0;c<n.length;c++)(!1&o||s>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(a=!1,o<s&&(s=o));if(a){t.splice(h--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[n,r,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,s=n[0],a=n[1],c=n[2],l=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(c)var h=c(i)}for(e&&e(n);l<s.length;l++)o=s[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(h)},n=self["webpackChunkchina_map_chart"]=self["webpackChunkchina_map_chart"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[999],(function(){return i(5684)}));n=i.O(n)})();
//# sourceMappingURL=app.1fc6f4c4.js.map